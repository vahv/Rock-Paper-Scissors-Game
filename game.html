<script type="text/javascript">
	function computerPlay(){
		let random = Math.random()*100;
		return random <= 33? "rock" :
				 (random > 33 && random <= 66)? "paper": 
				 "scissors";
	}

	function playRound(playerSelection, computerSelection){
		let winner;
		let losingMove;
		let winningMove;
		playerSelection = playerSelection.toLowerCase();

		console.log("Computer plays "+computerSelection);
		if(playerSelection == computerSelection)
			return "It's a Draw";

		if
		(
			(playerSelection =="rock" && computerSelection == "scissors")
			||
			(playerSelection =="paper" && computerSelection == "rock")
			||
			(playerSelection =="scissors" && computerSelection == "paper")
		)
		{	
			winner = "Player";
			winningMove = playerSelection;
			losingMove = computerSelection;
		}
		else 
		{
			winner = "Computer";
			winningMove = computerSelection;
			losingMove = playerSelection;
		}
		return winner+" wins the round! "+winningMove+" beats "+losingMove+".";
	}

	function game(){
		let playerScore = 0, computerScore = 0;
		let playerSelection = "", roundResult = "";


			for(i = 0; i<5; i++){
				console.log("Round "+ (i+1));
				playerSelection = prompt("What's your move?");

				roundResult = playRound(playerSelection,computerPlay());

				console.log(roundResult);	

				if(roundResult.includes("Player")) playerScore++;
				else if (roundResult.includes("Computer")) computerScore++;
				console.log("Score: "+playerScore+" to "+computerScore);

			}
			console.log("Game over.");
			if (playerScore > computerScore) console.log("You win!!");
			else if (playerScore == computerScore) console.log("What are the odds?! It's a Draw!!");
			else console.log("You lose!");

	}
</script>
